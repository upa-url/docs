<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Upa URL C++ library: Upa URL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../common/version-select.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeParagraphLink.init()
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../common/version-select.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Upa URL C++ library
   </div>
   <div id="projectbrief">A WHATWG URL Standard implementation</div>
  </td>
  <td id="version-td">
   <select id="version-select"><option>v1.0.1</option></select>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Upa URL </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p>Upa URL is <a href="https://url.spec.whatwg.org/">WHATWG URL Standard</a> compliant <b>U</b>RL <b>pa</b>rser library written in C++.</p>
<p>The library is self-contained with no dependencies and requires a compiler that supports C++11 or later. It is known to compile with Clang 4, GCC 4.9, Microsoft Visual Studio 2015 or later. Can also be compiled to WebAssembly, see demo: <a href="https://upa-url.github.io/demo/">https://upa-url.github.io/demo/</a></p>
<h1><a class="anchor" id="features-and-standard-conformance"></a>
Features and standard conformance</h1>
<p>This library is up to date with the URL Standard published on <a href="https://url.spec.whatwg.org/commit-snapshots/5861e023bbd695c92190aa6bb7cb3c6717dab33b/">19 August 2024 (commit 5861e02)</a> and supports internationalized domain names as specified in the <a href="https://www.unicode.org/reports/tr46/tr46-31.html">UTS46 Unicode IDNA Compatibility Processing version 15.1.0</a>.</p>
<p>It implements:</p><ol type="1">
<li><a href="https://url.spec.whatwg.org/#url-class">URL class</a>: <code><a class="el" href="classupa_1_1url.html" title="URL class.">upa::url</a></code></li>
<li><a href="https://url.spec.whatwg.org/#interface-urlsearchparams">URLSearchParams class</a>: <code><a class="el" href="classupa_1_1url__search__params.html" title="URLSearchParams class.">upa::url_search_params</a></code></li>
<li><a href="https://url.spec.whatwg.org/#concept-url">URL record</a>: <code><a class="el" href="classupa_1_1url.html" title="URL class.">upa::url</a></code> has functions to examine URL record members: <code>get_part_view(PartType t)</code>, <code>is_empty(PartType t)</code> and <code>is_null(PartType t)</code></li>
<li><a href="https://url.spec.whatwg.org/#url-equivalence">URL equivalence</a>: <code><a class="el" href="namespaceupa.html#a704170fa90d71a1899e48494fb85cd70" title="URL equivalence.">upa::equals</a></code> function</li>
<li><a href="https://url.spec.whatwg.org/#percent-encoded-bytes">Percent decoding and encoding</a> functions: <code><a class="el" href="namespaceupa.html#a45d0ddd991776b127ca780991a4aeded" title="Percent decode input string.">upa::percent_decode</a></code>, <code><a class="el" href="namespaceupa.html#a63edd0c260b666d7b332b212c1f5a73d" title="UTF-8 percent encode input string using specified percent encode set.">upa::percent_encode</a></code> and <code><a class="el" href="namespaceupa.html#a38eb088c23f4c98acc10afa8710af657" title="UTF-8 percent encode input string using component percent encode set.">upa::encode_url_component</a></code></li>
</ol>
<p>It has some differences from the standard:</p><ol type="1">
<li>Setters of the <code><a class="el" href="classupa_1_1url.html" title="URL class.">upa::url</a></code> class are implemented as functions, which return <code>true</code> if value is accepted.</li>
<li>The <code>href</code> setter does not throw on parsing failure, but returns <code>false</code>.</li>
</ol>
<p>Upa URL contains features not specified in the standard:</p><ol type="1">
<li>The <code><a class="el" href="classupa_1_1url.html" title="URL class.">upa::url</a></code> class has <code>path</code> getter (to get <code>pathname</code> concatenated with <code>search</code>)</li>
<li>Function to convert file system path to file URL: <code><a class="el" href="namespaceupa.html#adbb039c01de48ad13cb733c8c32c588f" title="Make URL from OS file path.">upa::url_from_file_path</a></code></li>
<li>Function to get file system path from file URL: <code><a class="el" href="namespaceupa.html#a01668f1801e81e167aa890118e7d456b" title="Get OS path from file URL.">upa::path_from_file_url</a></code></li>
<li>Experimental URLHost class (see proposal: <a href="https://github.com/whatwg/url/pull/288">https://github.com/whatwg/url/pull/288</a>): <code><a class="el" href="classupa_1_1url__host.html">upa::url_host</a></code></li>
<li>The <code><a class="el" href="classupa_1_1url__search__params.html" title="URLSearchParams class.">upa::url_search_params</a></code> class has a few additional functions: <code>remove</code>, <code>remove_if</code></li>
</ol>
<p>For string input, the library supports UTF-8, UTF-16, UTF-32 encodings and several string types, including <code>std::basic_string</code>, <code>std::basic_string_view</code>, null-terminated strings of any char type: <code>char</code>, <code>char8_t</code>, <code>char16_t</code>, <code>char32_t</code>, or <code>wchar_t</code>. See <a class="el" href="md_doc_2string__input.html">&quot;String input&quot;</a> for more information.</p>
<h1><a class="anchor" id="installation"></a>
Installation</h1>
<p>The simplest way is to use two amalgamated files: <code><a class="el" href="url_8h.html">url.h</a></code> and <code>url.cpp</code>. You can download them from <a href="https://github.com/upa-url/upa/releases">releases page</a>, or if you have installed Python, then generate them by running <code>tools/amalgamate.sh</code> script (<code>tools/amalgamate.bat</code> on Windows). The files will be created in the <code>single_include/upa</code> directory.</p>
<h2><a class="anchor" id="cmake"></a>
CMake</h2>
<p>The library can be built and installed using CMake 3.13 or later. To build and install to default directory (usually <code>/usr/local</code> on Linux) run following commands: </p><div class="fragment"><div class="line">cmake -B build -DUPA_BUILD_TESTS=OFF</div>
<div class="line">cmake --build build</div>
<div class="line">cmake --install build</div>
</div><!-- fragment --><p>To use library add <code>find_package(upa REQUIRED)</code> and link to <code><a class="el" href="classupa_1_1url.html" title="URL class.">upa::url</a></code> target in your CMake project: </p><div class="fragment"><div class="line">find_package(upa REQUIRED)</div>
<div class="line">...</div>
<div class="line">target_link_libraries(exe-target PRIVATE upa::url)</div>
</div><!-- fragment --><h3><a class="anchor" id="embedding"></a>
Embedding</h3>
<p>The entire library source tree can be placed in subdirectory (say <code>url/</code>) of your project and then included in it with <code>add_subdirectory()</code>: </p><div class="fragment"><div class="line">add_subdirectory(url)</div>
<div class="line">...</div>
<div class="line">target_link_libraries(exe-target PRIVATE upa::url)</div>
</div><!-- fragment --><h3><a class="anchor" id="embedding-with-fetchcontent"></a>
Embedding with FetchContent</h3>
<div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(upa</div>
<div class="line">  GIT_REPOSITORY https://github.com/upa-url/upa.git</div>
<div class="line">  GIT_SHALLOW TRUE</div>
<div class="line">  GIT_TAG v1.0.1</div>
<div class="line">)</div>
<div class="line">FetchContent_MakeAvailable(upa)</div>
<div class="line">...</div>
<div class="line">target_link_libraries(exe-target PRIVATE upa::url)</div>
</div><!-- fragment --><h3><a class="anchor" id="embedding-with-cpmcmake-script"></a>
Embedding with CPM.cmake script</h3>
<p>If you are using the <a href="https://github.com/cpm-cmake/CPM.cmake">CPM.cmake script</a> and have included it in your <code>CMakeLists.txt</code>, then:</p>
<div class="fragment"><div class="line">CPMAddPackage(&quot;gh:upa-url/upa@1.0.1&quot;)</div>
<div class="line">...</div>
<div class="line">target_link_libraries(exe-target PRIVATE upa::url)</div>
</div><!-- fragment --><h2><a class="anchor" id="vcpkg"></a>
vcpkg</h2>
<p>For use in C++17 or later projects, install Upa URL with <code>vcpkg install upa-url</code>.</p>
<p>For use in C++11 and C++14 projects: <code>vcpkg install upa-url[cxx11]</code>.</p>
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>In source files, that use this library, the <code><a class="el" href="url_8h.html">upa/url.h</a></code> must be included: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">upa/url.h</a>&quot;</span></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
</div><!-- fragment --><p>If you are using CMake, see the <a class="el" href="#cmake">CMake section</a> for how to link to the library. Alternatively, if you are using amalgamated files, then add the amalgamated <code>url.cpp</code> file to your project, otherwise add all the files from the <code>src/</code> directory to your project.</p>
<h2><a class="anchor" id="examples"></a>
Examples</h2>
<p>Parse input string using <code>url::parse</code> function and output URL components: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">upa/url.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="classupa_1_1url.html">upa::url</a> url;</div>
<div class="line">    std::string input;</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Enter URL to parse, or empty line to exit\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">while</span> (std::getline(std::cin, input) &amp;&amp; !input.empty()) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceupa.html#a05a9cf5ac0b5dafa3ed684f3a17f4710">upa::success</a>(url.<a class="code hl_function" href="classupa_1_1url.html#ac453ab48b67747219bcfc95462f61c53">parse</a>(input))) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;     href: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">href</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;   origin: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#af194de754979c9075d77af7c99c4d44f">origin</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; protocol: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#aefff2a396c60bb736c6af7c94e67e834">protocol</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; username: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#aa183eb21c14a7d4f1880b6153aeb11b6">username</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; password: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a8e805bd6733405d829e58e8b4359597f">password</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; hostname: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a00c9e7935052de9bdd5f7dc57922255e">hostname</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;     port: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#ad17810412671e9775490e95df79be11a">port</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; pathname: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#ad82c26035a5289e0f141a156806ad24c">pathname</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;   search: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a2d7a437fd9b379476d0d9397abfa637b">search</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;     hash: &quot;</span> &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a39ea63cc60276d528b5469a16a308942">hash</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot; URL parse error\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassupa_1_1url_html"><div class="ttname"><a href="classupa_1_1url.html">upa::url</a></div><div class="ttdoc">URL class.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00062">url.h:62</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_a00c9e7935052de9bdd5f7dc57922255e"><div class="ttname"><a href="classupa_1_1url.html#a00c9e7935052de9bdd5f7dc57922255e">upa::url::hostname</a></div><div class="ttdeci">bool hostname(StrT &amp;&amp;str)</div><div class="ttdoc">The hostname setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01504">url.h:1504</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_a2d7a437fd9b379476d0d9397abfa637b"><div class="ttname"><a href="classupa_1_1url.html#a2d7a437fd9b379476d0d9397abfa637b">upa::url::search</a></div><div class="ttdeci">bool search(StrT &amp;&amp;str)</div><div class="ttdoc">The search setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01544">url.h:1544</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_a37366859f7402a3773d68861a84ab3ee"><div class="ttname"><a href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">upa::url::href</a></div><div class="ttdeci">bool href(StrT &amp;&amp;str)</div><div class="ttdoc">The href setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01438">url.h:1438</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_a39ea63cc60276d528b5469a16a308942"><div class="ttname"><a href="classupa_1_1url.html#a39ea63cc60276d528b5469a16a308942">upa::url::hash</a></div><div class="ttdeci">bool hash(StrT &amp;&amp;str)</div><div class="ttdoc">The hash setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01571">url.h:1571</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_a8e805bd6733405d829e58e8b4359597f"><div class="ttname"><a href="classupa_1_1url.html#a8e805bd6733405d829e58e8b4359597f">upa::url::password</a></div><div class="ttdeci">bool password(StrT &amp;&amp;str)</div><div class="ttdoc">The password setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01477">url.h:1477</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_aa183eb21c14a7d4f1880b6153aeb11b6"><div class="ttname"><a href="classupa_1_1url.html#aa183eb21c14a7d4f1880b6153aeb11b6">upa::url::username</a></div><div class="ttdeci">bool username(StrT &amp;&amp;str)</div><div class="ttdoc">The username setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01461">url.h:1461</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_ac453ab48b67747219bcfc95462f61c53"><div class="ttname"><a href="classupa_1_1url.html#ac453ab48b67747219bcfc95462f61c53">upa::url::parse</a></div><div class="ttdeci">validation_errc parse(T &amp;&amp;str_url, const url *base=nullptr)</div><div class="ttdoc">Parses given URL string against base URL.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00177">url.h:177</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_ad17810412671e9775490e95df79be11a"><div class="ttname"><a href="classupa_1_1url.html#ad17810412671e9775490e95df79be11a">upa::url::port</a></div><div class="ttdeci">bool port(StrT &amp;&amp;str)</div><div class="ttdoc">The port setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01515">url.h:1515</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_ad82c26035a5289e0f141a156806ad24c"><div class="ttname"><a href="classupa_1_1url.html#ad82c26035a5289e0f141a156806ad24c">upa::url::pathname</a></div><div class="ttdeci">bool pathname(StrT &amp;&amp;str)</div><div class="ttdoc">The pathname setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01533">url.h:1533</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_aefff2a396c60bb736c6af7c94e67e834"><div class="ttname"><a href="classupa_1_1url.html#aefff2a396c60bb736c6af7c94e67e834">upa::url::protocol</a></div><div class="ttdeci">bool protocol(StrT &amp;&amp;str)</div><div class="ttdoc">The protocol setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01450">url.h:1450</a></div></div>
<div class="ttc" id="aclassupa_1_1url_html_af194de754979c9075d77af7c99c4d44f"><div class="ttname"><a href="classupa_1_1url.html#af194de754979c9075d77af7c99c4d44f">upa::url::origin</a></div><div class="ttdeci">std::string origin() const</div><div class="ttdoc">The origin getter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01129">url.h:1129</a></div></div>
<div class="ttc" id="anamespaceupa_html_a05a9cf5ac0b5dafa3ed684f3a17f4710"><div class="ttname"><a href="namespaceupa.html#a05a9cf5ac0b5dafa3ed684f3a17f4710">upa::success</a></div><div class="ttdeci">constexpr bool success(validation_errc res) noexcept</div><div class="ttdoc">Check validation error code indicates success.</div><div class="ttdef"><b>Definition</b> <a href="url__result_8h_source.html#l00092">url_result.h:92</a></div></div>
</div><!-- fragment --><p>Parse URL against base URL using <code>url</code> constructor: </p><div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <a class="code hl_class" href="classupa_1_1url.html">upa::url</a> url{ <span class="stringliteral">&quot;/new path?query&quot;</span>, <span class="stringliteral">&quot;https://example.org/path&quot;</span> };</div>
<div class="line">    std::cout &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">href</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; ex) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Use setters of the <code>url</code> class: </p><div class="fragment"><div class="line"><a class="code hl_class" href="classupa_1_1url.html">upa::url</a> url;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="namespaceupa.html#a05a9cf5ac0b5dafa3ed684f3a17f4710">upa::success</a>(url.<a class="code hl_function" href="classupa_1_1url.html#ac453ab48b67747219bcfc95462f61c53">parse</a>(<span class="stringliteral">&quot;http://host/&quot;</span>))) {</div>
<div class="line">    url.<a class="code hl_function" href="classupa_1_1url.html#aefff2a396c60bb736c6af7c94e67e834">protocol</a>(<span class="stringliteral">&quot;https:&quot;</span>);</div>
<div class="line">    url.<a class="code hl_function" href="classupa_1_1url.html#a9596575079d483f7fd33527f61cc2a6b">host</a>(<span class="stringliteral">&quot;example.com:443&quot;</span>);</div>
<div class="line">    url.<a class="code hl_function" href="classupa_1_1url.html#ad82c26035a5289e0f141a156806ad24c">pathname</a>(<span class="stringliteral">&quot;kelias&quot;</span>);</div>
<div class="line">    url.<a class="code hl_function" href="classupa_1_1url.html#a2d7a437fd9b379476d0d9397abfa637b">search</a>(<span class="stringliteral">&quot;z=7&quot;</span>);</div>
<div class="line">    url.<a class="code hl_function" href="classupa_1_1url.html#a39ea63cc60276d528b5469a16a308942">hash</a>(<span class="stringliteral">&quot;top&quot;</span>);</div>
<div class="line">    std::cout &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">href</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="ttc" id="aclassupa_1_1url_html_a9596575079d483f7fd33527f61cc2a6b"><div class="ttname"><a href="classupa_1_1url.html#a9596575079d483f7fd33527f61cc2a6b">upa::url::host</a></div><div class="ttdeci">bool host(StrT &amp;&amp;str)</div><div class="ttdoc">The host setter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01493">url.h:1493</a></div></div>
</div><!-- fragment --><p>Enumerate search parameters of URL: </p><div class="fragment"><div class="line"><a class="code hl_class" href="classupa_1_1url.html">upa::url</a> url{ <span class="stringliteral">&quot;wss://h?first=last&amp;op=hop&amp;a=b&quot;</span> };</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; param : url.<a class="code hl_function" href="classupa_1_1url.html#a4fb9b3f5a6ff3d88c213326423c17147">search_params</a>()) {</div>
<div class="line">    std::cout &lt;&lt; param.first &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; param.second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="ttc" id="aclassupa_1_1url_html_a4fb9b3f5a6ff3d88c213326423c17147"><div class="ttname"><a href="classupa_1_1url.html#a4fb9b3f5a6ff3d88c213326423c17147">upa::url::search_params</a></div><div class="ttdeci">url_search_params &amp; search_params() &amp;</div><div class="ttdoc">The searchParams getter.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l01228">url.h:1228</a></div></div>
</div><!-- fragment --><p>Remove search parameters whose names start with "utm_" (requires C++20): </p><div class="fragment"><div class="line"><a class="code hl_class" href="classupa_1_1url.html">upa::url</a> url{ <span class="stringliteral">&quot;https://example.com/?id=1&amp;utm_source=twitter.com&amp;utm_medium=social&quot;</span> };</div>
<div class="line">url.<a class="code hl_function" href="classupa_1_1url.html#a4fb9b3f5a6ff3d88c213326423c17147">search_params</a>().<a class="code hl_function" href="classupa_1_1url__search__params.html#ac68e1da1c80834f3d30eb2e8e892f7e8">remove_if</a>([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; param) {</div>
<div class="line">    <span class="keywordflow">return</span> param.first.starts_with(<span class="stringliteral">&quot;utm_&quot;</span>);</div>
<div class="line">});</div>
<div class="line">std::cout &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">href</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>; <span class="comment">// https://example.com/?id=1</span></div>
<div class="ttc" id="aclassupa_1_1url__search__params_html_ac68e1da1c80834f3d30eb2e8e892f7e8"><div class="ttname"><a href="classupa_1_1url__search__params.html#ac68e1da1c80834f3d30eb2e8e892f7e8">upa::url_search_params::remove_if</a></div><div class="ttdeci">size_type remove_if(UnaryPredicate p)</div><div class="ttdef"><b>Definition</b> <a href="url__search__params_8h_source.html#l00572">url_search_params.h:572</a></div></div>
</div><!-- fragment --><p>Convert filesystem path to file URL: </p><div class="fragment"><div class="line"><span class="keywordflow">try</span> {</div>
<div class="line">    <span class="keyword">auto</span> url = <a class="code hl_function" href="namespaceupa.html#adbb039c01de48ad13cb733c8c32c588f">upa::url_from_file_path</a>(<span class="stringliteral">&quot;/home/opa/file.txt&quot;</span>, <a class="code hl_enumvalue" href="namespaceupa.html#a5806bc3a0d267938f093d8106d84360fa950616e5405e4ef51a87d384180e7aa1">upa::file_path_format::posix</a>);</div>
<div class="line">    std::cout &lt;&lt; url.<a class="code hl_function" href="classupa_1_1url.html#a37366859f7402a3773d68861a84ab3ee">href</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>; <span class="comment">// file:///home/opa/file.txt</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; ex) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceupa_html_a5806bc3a0d267938f093d8106d84360fa950616e5405e4ef51a87d384180e7aa1"><div class="ttname"><a href="namespaceupa.html#a5806bc3a0d267938f093d8106d84360fa950616e5405e4ef51a87d384180e7aa1">upa::file_path_format::posix</a></div><div class="ttdeci">@ posix</div><div class="ttdoc">POSIX file path format.</div></div>
<div class="ttc" id="anamespaceupa_html_adbb039c01de48ad13cb733c8c32c588f"><div class="ttname"><a href="namespaceupa.html#adbb039c01de48ad13cb733c8c32c588f">upa::url_from_file_path</a></div><div class="ttdeci">url url_from_file_path(StrT &amp;&amp;str, file_path_format format=file_path_format::native)</div><div class="ttdoc">Make URL from OS file path.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l03118">url.h:3118</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="license"></a>
License</h1>
<p>This library is licensed under the <a href="https://opensource.org/license/bsd-2-clause/">BSD 2-Clause License</a>. It contains portions of modified source code from the Chromium project, licensed under the <a href="https://opensource.org/license/bsd-3-clause/">BSD 3-Clause License</a>, and the ICU project, licensed under the <a href="https://www.unicode.org/license.txt">UNICODE LICENSE V3</a>.</p>
<p>See the <code>LICENSE</code> file for more information. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
    <li class="footer"><a target="_blank" href="https://github.com/upa-url/upa"><span class="github-mark"></span></a></li>
  </ul>
</div>
</body>
</html>
